<!doctype html>
<html>
<head>
	<title>Circle</title>
	<script type='text/javascript' src="d3/d3.js"></script>
	<script type='text/javascript' src="d3/d3.min.js"></script>
</head>
<body>
	<script>

		var canvas_height = 1000;
		var canvas_width = 1000;
		var test_values = [5, 17, 32, 57, 66, 78, 82, 85, 103, 293];

		var canvas = d3.select("body")
			.append("svg")
			.attr('width', canvas_width)
			.attr('height', canvas_height)
			.append("g");

		loadXML("pmd_model.xml");

		//Specify the D3.xml file and the callback.

		//Functions
		function loadXML(path)
		{
			//Specify the xml file and the callbackwith D3.
			d3.xml(path, xmlCallback);
		}

		function xmlCallback(error, data)
		{
			if(error) 
			{
				throw error
			}
			else
			{
				data = [].map.call(data.querySelectorAll("type"), function(type) {
					return {
						FullName: type.getAttribute("name"),
						Name: type.getAttribute("name").split(".")[type.getAttribute("name").split(".").length - 1],
						Type: type.getAttribute('classification'),
						Visibility: type.getAttribute('Visibility'),
						Dependencies: [].map.call(type.querySelectorAll('dependencies'), function(dependency) {
							return {
								FullName: dependency.getAttribute("name"),
								Type: dependency.getAttribute('classification')
							};
						})
					};
				});

				canvas.selectAll("circle")
					.data(data)
					.enter()
						.append("circle")
						.attr("fill", "steelblue")
						.attr("cy", function(d) { return (Math.random() * 250); })
						.attr("cx", function(d, i) { return (Math.random() * 250); })
						.attr("r", 7.6);

				canvas.append("g");
			}
		}

	</script>
</body>
</html>